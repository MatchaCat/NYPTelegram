/*************************************
* DEPENDENCIES
*************************************/

var should = require('chai').should();
var steganographie = require('../index');

/*************************************
* CONCEAL
*************************************/

describe('conceal', function() {
  describe('missing parameters', function() {
    it('should not work without input field', function() {
      steganographie.conceal({
        output: 'img_conceal.png',
        method: 'simple',
        text: 'test message'
      }, (err, res) => {
        err.should.equal(true);
      });
    });
    it('should not work without output field', function() {
      steganographie.conceal({
        input: 'img_test.png',
        method: 'simple',
        text: 'test message'
      }, (err, res) => {
        err.should.equal(true);
      });
    });
    it('should not work without method field', function() {
      steganographie.conceal({
        input: 'img_test.png',
        output: 'img_conceal.png',
        text: 'test message'
      }, (err, res) => {
        err.should.equal(true);
      });
    });
    it('should not work without text field', function() {
      steganographie.conceal({
        input: 'img_test.png',
        output: 'img_conceal.png',
        method: 'simple'
      }, (err, res) => {
        err.should.equal(true);
      });
    });
  });
  describe('invalid parameters', function() {
    it('should not work with unexpected method', function() {
      steganographie.conceal({
        input: 'img_test.png',
        output: 'img_conceal.png',
        text: 'test message',
        method: 'unexpected'
      }, (err, res) => {
        err.should.equal(true);
      });
    });
    it('should not work with missing picture', function() {
      steganographie.conceal({
        input: 'img_missing.png',
        output: 'img_conceal.png',
        text: 'test message',
        method: 'simple'
      }, (err, res) => {
        err.should.equal(true);
      });
    });
  });
});
